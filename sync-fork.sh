#!/bin/bash

# GitHub Fork åŒæ­¥è„šæœ¬
# ç”¨äºåŒæ­¥ä¸Šæ¸¸ä»“åº“ (upstream) çš„æ›´æ–°åˆ°ä½ çš„forkä»“åº“

echo "ğŸ”„ å¼€å§‹åŒæ­¥ä¸Šæ¸¸ä»“åº“æ›´æ–°..."

# 1. è·å–ä¸Šæ¸¸æœ€æ–°ä»£ç 
echo "ğŸ“¥ è·å–ä¸Šæ¸¸ä»“åº“æœ€æ–°ä»£ç ..."
git fetch upstream

# 2. æ£€æŸ¥å½“å‰åˆ†æ”¯çŠ¶æ€
echo "ğŸ“Š æ£€æŸ¥å½“å‰åˆ†æ”¯çŠ¶æ€..."
git status

# 3. æ˜¾ç¤ºæœ¬åœ°å’Œä¸Šæ¸¸çš„å·®å¼‚
echo "ğŸ” æ˜¾ç¤ºæœ¬åœ°å’Œä¸Šæ¸¸çš„å·®å¼‚:"
echo "æœ¬åœ°åˆ†æ”¯: $(git rev-parse --short HEAD)"
echo "ä¸Šæ¸¸/main: $(git rev-parse --short upstream/main)"
echo ""

# 4. è¯¢é—®æ˜¯å¦è¦åˆå¹¶æ›´æ–°
echo "ğŸ’¡ å¸¸ç”¨åŒæ­¥é€‰é¡¹:"
echo "1. git merge upstream/main          # åˆå¹¶ä¸Šæ¸¸æ›´æ–°ï¼ˆåŒ…å«ä½ çš„æœ¬åœ°æäº¤ï¼‰"
echo "2. git rebase upstream/main        # å˜åŸºåˆ°ä¸Šæ¸¸ç‰ˆæœ¬ï¼ˆæ¨èï¼Œä¿æŒçº¿æ€§å†å²ï¼‰"
echo "3. git reset --hard upstream/main # å®Œå…¨é‡ç½®åˆ°ä¸Šæ¸¸ç‰ˆæœ¬ï¼ˆä¼šä¸¢å¤±æœ¬åœ°ä¿®æ”¹ï¼‰"
echo "4. git diff upstream/main           # æŸ¥çœ‹å…·ä½“å·®å¼‚"
echo ""

echo "âœ… ä¸Šæ¸¸ä»£ç å·²è·å–å®Œæˆï¼è¯·é€‰æ‹©åˆé€‚çš„åˆå¹¶æ–¹å¼ã€‚"
echo "ğŸ’¾ å¦‚éœ€æ¨é€åˆ°ä½ çš„forkä»“åº“ï¼Œè¿è¡Œ: git push github main"